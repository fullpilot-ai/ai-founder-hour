(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push([typeof document === "object" ? document.currentScript : undefined, {

"[project]/node_modules/@sanity/next-loader/dist/data:b6f6e1 [app-client] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"7f6493b58d3831b62817be22284a8ea400b0ca50d3":"setPerspectiveCookie"},"node_modules/@sanity/next-loader/dist/server-actions.js",""] */ __turbopack_context__.s({
    "setPerspectiveCookie": (()=>setPerspectiveCookie)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var setPerspectiveCookie = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("7f6493b58d3831b62817be22284a8ea400b0ca50d3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "setPerspectiveCookie"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2VydmVyLWFjdGlvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5pbXBvcnQgeyBzYW5pdGl6ZVBlcnNwZWN0aXZlLCBwZXJzcGVjdGl2ZUNvb2tpZU5hbWUgfSBmcm9tIFwiLi9fY2h1bmtzLWVzL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlVGFnIH0gZnJvbSBcIm5leHQvY2FjaGUuanNcIjtcbmltcG9ydCB7IGRyYWZ0TW9kZSwgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnMuanNcIjtcbmFzeW5jIGZ1bmN0aW9uIHJldmFsaWRhdGVTeW5jVGFncyh0YWdzKSB7XG4gIGF3YWl0IHJldmFsaWRhdGVUYWcoXCJzYW5pdHk6ZmV0Y2gtc3luYy10YWdzXCIpO1xuICBmb3IgKGNvbnN0IF90YWcgb2YgdGFncykge1xuICAgIGNvbnN0IHRhZyA9IGBzYW5pdHk6JHtfdGFnfWA7XG4gICAgYXdhaXQgcmV2YWxpZGF0ZVRhZyh0YWcpLCBjb25zb2xlLmxvZyhgPFNhbml0eUxpdmUgLz4gcmV2YWxpZGF0ZWQgdGFnOiAke3RhZ31gKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gc2V0UGVyc3BlY3RpdmVDb29raWUocGVyc3BlY3RpdmUpIHtcbiAgaWYgKCEoYXdhaXQgZHJhZnRNb2RlKCkpLmlzRW5hYmxlZClcbiAgICByZXR1cm47XG4gIGNvbnN0IHNhbml0aXplZFBlcnNwZWN0aXZlID0gc2FuaXRpemVQZXJzcGVjdGl2ZShwZXJzcGVjdGl2ZSwgXCJkcmFmdHNcIik7XG4gIGlmIChwZXJzcGVjdGl2ZSAhPT0gc2FuaXRpemVkUGVyc3BlY3RpdmUpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBlcnNwZWN0aXZlOiAke3BlcnNwZWN0aXZlfWApO1xuICAoYXdhaXQgY29va2llcygpKS5zZXQoXG4gICAgcGVyc3BlY3RpdmVDb29raWVOYW1lLFxuICAgIEFycmF5LmlzQXJyYXkoc2FuaXRpemVkUGVyc3BlY3RpdmUpID8gc2FuaXRpemVkUGVyc3BlY3RpdmUuam9pbihcIixcIikgOiBzYW5pdGl6ZWRQZXJzcGVjdGl2ZSxcbiAgICB7XG4gICAgICBodHRwT25seTogITAsXG4gICAgICBwYXRoOiBcIi9cIixcbiAgICAgIHNlY3VyZTogITAsXG4gICAgICBzYW1lU2l0ZTogXCJub25lXCJcbiAgICB9XG4gICk7XG59XG5leHBvcnQge1xuICByZXZhbGlkYXRlU3luY1RhZ3MsXG4gIHNldFBlcnNwZWN0aXZlQ29va2llXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWFjdGlvbnMuanMubWFwXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6InFVQThCRSJ9
}}),
"[project]/node_modules/@sanity/next-loader/dist/_chunks-es/PresentationComlink.js [app-client] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>PresentationComlink)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sanity/comlink/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$next$2d$loader$2f$dist$2f$data$3a$b6f6e1__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/node_modules/@sanity/next-loader/dist/data:b6f6e1 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$presentation$2d$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@sanity/presentation-comlink/dist/index.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$effect$2d$event$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/use-effect-event/dist/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$next$2d$loader$2f$dist$2f$_chunks$2d$es$2f$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sanity/next-loader/dist/_chunks-es/context.js [app-client] (ecmascript)");
;
;
;
;
;
;
;
function PresentationComlink(props) {
    const { projectId, dataset, draftModeEnabled, draftModePerspective } = props, router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PresentationComlink.useEffect": ()=>{
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$next$2d$loader$2f$dist$2f$_chunks$2d$es$2f$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["setComlinkClientConfig"])(projectId, dataset);
        }
    }["PresentationComlink.useEffect"], [
        dataset,
        projectId
    ]);
    const handlePerspectiveChange = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$use$2d$effect$2d$event$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffectEvent"])({
        "PresentationComlink.useEffectEvent[handlePerspectiveChange]": (perspective, signal)=>{
            draftModeEnabled && perspective !== draftModePerspective && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$next$2d$loader$2f$dist$2f$data$3a$b6f6e1__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["setPerspectiveCookie"])(perspective).then({
                "PresentationComlink.useEffectEvent[handlePerspectiveChange]": ()=>{
                    signal.aborted || router.refresh();
                }
            }["PresentationComlink.useEffectEvent[handlePerspectiveChange]"]).catch({
                "PresentationComlink.useEffectEvent[handlePerspectiveChange]": (reason)=>console.error("Failed to set the preview perspective cookie", reason)
            }["PresentationComlink.useEffectEvent[handlePerspectiveChange]"]);
        }
    }["PresentationComlink.useEffectEvent[handlePerspectiveChange]"]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PresentationComlink.useEffect": ()=>{
            const comlink = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createNode"])({
                name: "loaders",
                connectTo: "presentation"
            }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createNodeMachine"])().provide({
                actors: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$presentation$2d$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["createCompatibilityActors"])()
            }));
            let controller;
            comlink.on("loader/perspective", {
                "PresentationComlink.useEffect": (data)=>{
                    controller?.abort(), controller = new AbortController(), handlePerspectiveChange(data.perspective, controller.signal);
                }
            }["PresentationComlink.useEffect"]);
            const stop = comlink.start();
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$next$2d$loader$2f$dist$2f$_chunks$2d$es$2f$context$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["setComlink"])(comlink), ({
                "PresentationComlink.useEffect": ()=>{
                    stop();
                }
            })["PresentationComlink.useEffect"];
        }
    }["PresentationComlink.useEffect"], []), null;
}
PresentationComlink.displayName = "PresentationComlink";
;
 //# sourceMappingURL=PresentationComlink.js.map
}}),
}]);

//# sourceMappingURL=node_modules_%40sanity_next-loader_dist_ceb03382._.js.map